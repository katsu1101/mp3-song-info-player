(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,80389,e=>{"use strict";var t=e.i(73018);let r={ui:{trackListViewMode:"list",trackGridSize:"md",showFilePath:!1,showAlbums:!1},playback:{continuous:!1,shuffle:!1}},i="mp3-editor.settings.v1";var s=e.i(327);let a=e=>"object"==typeof e&&null!==e&&!Array.isArray(e),n=(e,t)=>{let r=t.split(".").filter(Boolean),i=e;for(let e of r){if(!a(i))return;i=i[e]}return i},o=e=>{if(0===e.length)return!1;let t=Number(e);return Number.isInteger(t)&&String(t)===e},l=e=>Array.isArray(e)?[...e]:a(e)?{...e}:{},c=(e,t)=>Array.isArray(e)&&o(t)?e[Number(t)]:Array.isArray(e)?void 0:e[t],u=(e,t,r)=>{if(Array.isArray(e)&&o(t)){e[Number(t)]=r;return}Array.isArray(e)||(e[t]=r)},p=(e,t,r)=>{let i=t.split(".").filter(Boolean);if(0===i.length)return e;let s=Array.isArray(e)?[...e]:a(e)?{...e}:null;if(!s)return e;let n=s;for(let e=0;e<i.length-1;e++){let t=i[e],r=l(c(n,t));u(n,t,r),n=r}return u(n,i[i.length-1],r),s},g=(e,t)=>{switch(t.type){case"replace":return t.settings;case"set":return p(e,t.path,t.value);case"toggle":{let r=n(e,t.path);if("boolean"!=typeof r)return e;return p(e,t.path,!r)}case"cycle":{let r=n(e,t.path),i=t.values;if(!Array.isArray(i)||0===i.length)return e;let s=i.findIndex(e=>Object.is(e,r)),a=s<0?0:(s+1)%i.length;return p(e,t.path,i[a])}default:return e}},h=(0,s.createContext)(null);e.s(["SettingsProvider",0,({children:e})=>{let[a,n]=(0,s.useReducer)(g,r),o=(0,s.useRef)(!0);(0,s.useEffect)(()=>{n({type:"replace",settings:(()=>{try{let e=localStorage.getItem(i);if(!e)return r;let t=JSON.parse(e);return{ui:{trackListViewMode:t.ui?.trackListViewMode??r.ui.trackListViewMode,trackGridSize:t.ui?.trackGridSize??r.ui.trackGridSize,showFilePath:t.ui?.showFilePath??r.ui.showFilePath,showAlbums:t.ui?.showAlbums??r.ui.showAlbums},playback:{continuous:t.playback?.continuous??r.playback.continuous,shuffle:t.playback?.shuffle??r.playback.shuffle}}}catch{return r}})()})},[]),(0,s.useEffect)(()=>{if(o.current){o.current=!1;return}try{localStorage.setItem(i,JSON.stringify(a))}catch{}},[a]);let l=(0,s.useMemo)(()=>({settings:a,setSetting:(e,t)=>n({type:"set",path:e,value:t}),toggleSetting:e=>n({type:"toggle",path:e}),cycleSetting:(e,t)=>n({type:"cycle",path:e,values:t})}),[a]);return(0,t.jsx)(h.Provider,{value:l,children:e})},"useSettings",0,()=>{let e=(0,s.useContext)(h);if(!e)throw Error("useSettings must be used within SettingsProvider");return e}],80389)},83157,e=>{"use strict";e.i(51452);let t="/mp3-song-info-player".replace(/\/$/,""),r={name:"とじょりん音楽プレイヤー",shortName:"とじょ音プレ",title:"とじょりん音楽プレイヤー",description:"とじょりん関連の音楽ファイル（mp3など）を再生するアプリ",url:"https://katsu1101.github.io/mp3-song-info-player",themeColor:"#ffd9d9",backgroundColor:"#ffffff",startUrl:`${t}/`,scope:`${t}/`,swPath:`${t}/sw.js`,icons:[{src:`${t}/icons/icon-192.png`,sizes:"192x192",type:"image/png"},{src:`${t}/icons/icon-512.png`,sizes:"512x512",type:"image/png"},{src:`${t}/icons/icon-maskable-512.png`,sizes:"512x512",type:"image/png",purpose:"maskable"}],faviconIcoPath:`${t}/favicon.ico`,appleTouchIconPath:`${t}/icons/icon-192.png`,ogImagePath:"/og/og-image.png"};r.name,r.title,r.description,new URL(r.url),[r.faviconIcoPath,...r.icons.filter(e=>"maskable"!==e.purpose).map(e=>({url:e.src,sizes:e.sizes,type:e.type}))],r.appleTouchIconPath,r.title,r.description,r.url,r.name,r.url,r.ogImagePath,r.name,r.name,r.description,r.url,r.ogImagePath,r.themeColor,e.s(["appMeta",0,r],83157)},44636,e=>{"use strict";var t=e.i(73018),r=e.i(80389);function i({children:e}){return(0,t.jsx)(r.SettingsProvider,{children:e})}e.s(["Providers",()=>i])},40681,e=>{"use strict";var t=e.i(83157),r=e.i(327);function i(){return(0,r.useEffect)(()=>{"serviceWorker"in navigator&&(async()=>{try{await navigator.serviceWorker.register(t.appMeta.swPath,{scope:t.appMeta.scope})}catch(e){console.error("ServiceWorker registration failed:",e)}})()},[]),null}e.s(["RegisterServiceWorker",()=>i])}]);